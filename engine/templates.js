// è„šæœ¬å†…å®¹æ¨¡æ¿åº“ - å‡çº§ç‰ˆ
// é’ˆå¯¹æµ·å¤–åŽäººå—ä¼—ï¼Œæ”¿ç­–è§£è¯»é£Žæ ¼

const TEMPLATES = {
        // å¼€åœºé’©å­æ¨¡æ¿ - å¤šç§ç±»åž‹
        hooks: {
                // æ•°æ®éœ‡æ’¼åž‹
                data: `ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œå¸çƒŸå£°ã€‘

DYï¼š
[åœé¡¿3ç§’]

[ç¼“æ…¢]
{DATA_POINT}

[åœé¡¿5ç§’]

ä½ çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆå—ï¼Ÿ

[åœé¡¿3ç§’]

è¿™æ„å‘³ç€...ä»–ä»¬ä¸æƒ³è®©ä½ çŸ¥é“çš„çœŸç›¸ã€‚`,

                // äº‰è®®è§‚ç‚¹åž‹
                opinion: `ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œå¸çƒŸå£°ã€‘

DYï¼š
[åœé¡¿3ç§’]

[å†·ç¬‘]

{CONTROVERSIAL_OPINION}

[åœé¡¿5ç§’]

Qï¼š
[æƒŠè®¶]
ç­‰ç­‰ï¼ŒDYï¼Œä½ è¿™è¯...åœ¨å¢™å†…å¯ä¸èƒ½è¿™ä¹ˆè¯´å§ï¼Ÿ

DYï¼š
[åçƒŸ]
åœ¨è¿™é‡Œï¼Œæ²¡æœ‰å¢™ã€‚`,

                // æ”¿ç­–è§£è¯»åž‹
                policy: `ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œå¸çƒŸå£°ã€‘

DYï¼š
[åœé¡¿3ç§’]

æœ€è¿‘è¿™æ¡æ–°é—»ï¼Œå¢™å†…é“ºå¤©ç›–åœ°...

[åœé¡¿3ç§’]

{POLICY_HEADLINE}

[åœé¡¿5ç§’]

å®˜æ–¹è¯´çš„æ˜¯è¿™ä¸ªï¼Œ
ä½†çœŸç›¸...æ˜¯å¦ä¸€ä¸ªã€‚

Qï¼š
ä»€ä¹ˆæ„æ€ï¼Ÿ

DYï¼š
[å†·ç¬‘]
å¬å¥½äº†ï¼Œæˆ‘åªè¯´ä¸€é...`,

                // å¢™å†…å¤–å¯¹æ¯”åž‹
                contrast: `ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œå¸çƒŸå£°ã€‘

DYï¼š
[åœé¡¿3ç§’]

å¢™å†…åœ¨è¯´...
{DOMESTIC_NARRATIVE}

[åœé¡¿3ç§’]

å¢™å¤–åœ¨è¯´...
{OVERSEAS_NARRATIVE}

[åœé¡¿5ç§’]

çœŸç›¸æ˜¯ä»€ä¹ˆï¼Ÿ

[åœé¡¿3ç§’]

ä¸¤è¾¹éƒ½ä¸å®Œå…¨å¯¹ã€‚
ä½†å¢™å†…ï¼Œè¿žè¿™ä¸ªéƒ½ä¸è®©ä½ çŸ¥é“ã€‚`,

                // é¢„è¨€è­¦å‘Šåž‹
                warning: `ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œå¸çƒŸå£°ã€‘

DYï¼š
[åœé¡¿3ç§’]

[è¯­æ°”å‡é‡]

æˆ‘å¿…é¡»æé†’ä½ ä¸€ä»¶äº‹...

[åœé¡¿5ç§’]

{WARNING_CONTENT}

[åœé¡¿3ç§’]

è¿™ä¸æ˜¯å±è¨€è€¸å¬ã€‚
è¿™æ˜¯...æ­£åœ¨å‘ç”Ÿçš„äº‹å®žã€‚`,

                // æ•…äº‹å¼•å…¥åž‹
                story: `ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œå¸çƒŸå£°ã€‘

DYï¼š
[åœé¡¿3ç§’]

ç»™ä½ è®²ä¸ªæ•…äº‹ã€‚

[åœé¡¿3ç§’]

{STORY_HOOK}

[åœé¡¿5ç§’]

è¿™ä¸ªæ•…äº‹çš„èƒŒåŽï¼Œ
è—ç€ä¸€ä¸ªä»–ä»¬æžåŠ›æŽ©ç›–çš„çœŸç›¸...`
        },

        // DY å¯¹è¯æ¨¡æ¿
        dy: {
                reveal: `DYï¼š
[åœé¡¿{PAUSE}ç§’]

{CONTENT}

[{TONE}]`,

                // åé©³å¼±åŠ¿æ€ç»´
                counter: `DYï¼š
[å†·ç¬‘]

ä½ çœ‹ï¼Œ
è¿™å°±æ˜¯å…¸åž‹çš„"å¼±åŠ¿æ–‡åŒ–"æ€ç»´...

[åœé¡¿3ç§’]

{COUNTER_ARGUMENT}

æ¢ä¸ªè§’åº¦æƒ³ï¼Œ
ä¸ºä»€ä¹ˆå®˜æ–¹è¦è¿™ä¹ˆè¯´ï¼Ÿ
ä»–ä»¬æƒ³è®©ä½ ç›¸ä¿¡ä»€ä¹ˆï¼Ÿ`,

                // æ­ç¤ºçœŸç›¸
                truth: `DYï¼š
[å¸çƒŸå£°]

[åœé¡¿3ç§’]

çœŸç›¸æ˜¯â€”â€”

[åœé¡¿3ç§’ï¼Œè¯­æ°”åŠ é‡]

{TRUTH_CONTENT}

[åœé¡¿5ç§’]

è¿™æ‰æ˜¯ä»–ä»¬ä¸æƒ³è®©ä½ çŸ¥é“çš„ã€‚`,

                // æ”¿ç­–è§£è¯»
                policy_decode: `DYï¼š
[åœé¡¿3ç§’]

{POLICY_POINT}

[åœé¡¿3ç§’]

ç¿»è¯‘æˆäººè¯å°±æ˜¯â€”â€”

[åœé¡¿3ç§’ï¼Œè¯­æ°”åŠ é‡]

{PLAIN_MEANING}

[åœé¡¿5ç§’]

æ‡‚äº†å—ï¼Ÿ
æ–‡ä»¶æ˜¯ç»™å¬è¯çš„äººçœ‹çš„ï¼Œ
è§„åˆ™æ˜¯ç»™æ˜Žç™½äººå®šçš„ã€‚`,

                // é‡‘å¥æ¨¡æ¿
                golden: `DYï¼š
è®°ä½ï¼Œ

[åœé¡¿3ç§’ï¼ŒåŠ é‡è¯­æ°”]

"{GOLDEN_QUOTE}"

[åœé¡¿5ç§’]

**ðŸ’¡ é‡‘å¥**ï¼š"{GOLDEN_QUOTE}"`,

                // æµ·å¤–åŽäººä¸“å±ž
                overseas: `DYï¼š
[åœé¡¿3ç§’]

ä½ åœ¨æµ·å¤–ï¼Œå¯èƒ½è§‰å¾—è¿™è·Ÿä½ æ²¡å…³ç³»...

[åœé¡¿3ç§’]

[å†·ç¬‘]

å¤ªå¤©çœŸäº†ã€‚

{OVERSEAS_IMPACT}

ä½ çš„é’±ã€ä½ çš„èµ„äº§ã€ç”šè‡³ä½ çš„èº«ä»½ï¼Œ
éƒ½åœ¨è¿™ä¸ªæ¸¸æˆé‡Œã€‚`,

                // åŽ†å²å¯¹æ¯”
                history: `DYï¼š
[åœé¡¿5ç§’]

åŽ†å²æ€»æ˜¯æƒŠäººçš„ç›¸ä¼¼...

[åœé¡¿3ç§’]

{HISTORICAL_REFERENCE}

[åœé¡¿5ç§’]

å½“å¹´æ˜¯è¿™æ ·ï¼Œ
çŽ°åœ¨è¿˜æ˜¯è¿™æ ·ã€‚

å”¯ä¸€çš„åŒºåˆ«æ˜¯â€”â€”
å½“å¹´çš„äººä¸çŸ¥é“ï¼Œ
çŽ°åœ¨çš„ä½ å¯ä»¥é€‰æ‹©çŸ¥ä¸çŸ¥é“ã€‚`
        },

        // Q å¯¹è¯æ¨¡æ¿
        q: {
                question: `Qï¼š
{QUESTION}`,

                challenge: `Qï¼š
[æ‰“æ–­ï¼Œæƒ…ç»ªä¸Šæ¥]

ç­‰ç­‰ï¼ŒDYï¼Œä½ è¿™è¯æˆ‘å®Œå…¨ä¸èƒ½æŽ¥å—ï¼

{CHALLENGE}`,

                shock: `Qï¼š
[éœ‡æƒŠ]

å§æ§½...é‚£å²‚ä¸æ˜¯...

{REALIZATION}`,

                silent: `Qï¼š
[æ²‰é»˜10ç§’]

[ä½Žå£°]
æˆ‘å¥½åƒ...ä»Žæ¥æ²¡è¿™ä¹ˆæƒ³è¿‡...`,

                // æµ·å¤–åŽäººè§†è§’
                overseas_q: `Qï¼š
é‚£æˆ‘ä»¬è¿™äº›åœ¨æµ·å¤–çš„äºº...

åº”è¯¥æ€Žä¹ˆçœ‹è¿™ä»¶äº‹ï¼Ÿ

{OVERSEAS_CONCERN}`,

                // è¿½é—®æ”¿ç­–
                policy_q: `Qï¼š
ç­‰ç­‰ï¼Œå®˜æ–¹ä¸æ˜¯è¯´{OFFICIAL_STATEMENT}å—ï¼Ÿ

ä½ çš„æ„æ€æ˜¯...è¿™æ˜¯å‡çš„ï¼Ÿ`,

                // èµ„äº§ç›¸å…³
                asset_q: `Qï¼š
é‚£æˆ‘åœ¨å›½å†…çš„æˆ¿å­/é’±æ€Žä¹ˆåŠžï¼Ÿ

{ASSET_CONCERN}`
        },

        // æ”¶å°¾æ¨¡æ¿
        endings: {
                // ç»ˆæžæ‹·é—®
                question: `DYï¼š
[åœé¡¿10ç§’]

[å¸çƒŸå£°]

[åœé¡¿5ç§’]

æœ€åŽï¼Œ
æˆ‘æƒ³é—®ä½ ä¸€ä¸ªé—®é¢˜...

[åœé¡¿3ç§’]

{ULTIMATE_QUESTION}

[åœé¡¿5ç§’]

ä¸ç”¨æ€¥ç€å›žç­”ã€‚

[åœé¡¿3ç§’]

è®©è¿™ä¸ªé—®é¢˜ï¼Œ
é™ªä½ å¤±çœ ä¸€æ™šã€‚

[åœé¡¿10ç§’]

ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œæ·¡å‡ºã€‘`,

                // æ®‹é…·é¢„è¨€
                prophecy: `DYï¼š
[åœé¡¿5ç§’]

[è¯­æ°”åŠ é‡]

æˆ‘å‘Šè¯‰ä½ ï¼Œ

[åœé¡¿3ç§’]

{PROPHECY}

[åœé¡¿5ç§’]

ä¸‰å¹´ä¹‹å†…ï¼Œä½ ä¼šå›žæ¥çœ‹è¿™æœŸèŠ‚ç›®ï¼Œ
ç„¶åŽæ„Ÿå¹ï¼š
"å§æ§½ï¼Œä»–å½“æ—¶è¯´å‡†äº†ã€‚"

[åœé¡¿3ç§’]

å¸Œæœ›é‚£æ—¶å€™ï¼Œ
ä½ å·²ç»åšå¥½äº†å‡†å¤‡ã€‚

[åœé¡¿10ç§’]

ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œæ·¡å‡ºã€‘`,

                // å“²å­¦å‡åŽ
                philosophy: `DYï¼š
[åœé¡¿5ç§’]

ã€Šå¤©é“ã€‹é‡Œæœ‰å¥è¯...

[åœé¡¿3ç§’]

"{PHILOSOPHY_QUOTE}"

[åœé¡¿5ç§’]

ç¿»è¯‘æˆå¤§ç™½è¯å°±æ˜¯â€”â€”

[åœé¡¿3ç§’]

{TRANSLATION}

[åœé¡¿5ç§’]

è¿™æ‰æ˜¯...
{TOPIC}çš„çœŸç›¸ã€‚

[åœé¡¿10ç§’]

ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œæ·¡å‡ºã€‘`,

                // è¡ŒåŠ¨å¬å”¤
                action: `DYï¼š
[åœé¡¿5ç§’]

å¦‚æžœä½ çœ‹åˆ°è¿™é‡Œï¼Œ
è¯´æ˜Žä½ æ˜¯å°‘æ•°æ„¿æ„ç›´é¢çœŸç›¸çš„äººã€‚

[åœé¡¿3ç§’]

æˆ‘çš„å»ºè®®æ˜¯â€”â€”

{ACTION_ADVICE}

[åœé¡¿5ç§’]

ä¸æ˜¯è®©ä½ ææ…Œï¼Œ
æ˜¯è®©ä½ æå‰å‡†å¤‡ã€‚

[åœé¡¿3ç§’]

çŸ¥é“äº†çœŸç›¸ï¼Œ
æ‰èƒ½ä¸è¢«æ”¶å‰²ã€‚

[åœé¡¿10ç§’]

ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œæ·¡å‡ºã€‘`,

                // æµ·å¤–åŽäººä¸“å±žç»“å°¾
                overseas_ending: `DYï¼š
[åœé¡¿5ç§’]

åœ¨æµ·å¤–çš„ä½ ï¼Œ
æ¯”å¢™å†…çš„äººæœ‰ä¸€ä¸ªä¼˜åŠ¿â€”â€”

[åœé¡¿3ç§’]

ä½ å¯ä»¥çœ‹åˆ°ä¸¤è¾¹çš„ä¿¡æ¯ã€‚

[åœé¡¿3ç§’]

ä½†è¿™ä¹Ÿæ„å‘³ç€è´£ä»»â€”â€”

ä½ éœ€è¦è‡ªå·±åˆ¤æ–­ï¼Œ
ä»€ä¹ˆæ˜¯çœŸç›¸ã€‚

[åœé¡¿5ç§’]

{FINAL_THOUGHT}

å¸Œæœ›è¿™æœŸèŠ‚ç›®ï¼Œ
èƒ½å¸®ä½ çœ‹æ¸…ä¸€ç‚¹ç‚¹ã€‚

[åœé¡¿10ç§’]

ã€éŸ³æ•ˆï¼šæ‰“ç«æœºå£°ï¼Œæ·¡å‡ºã€‘`
        },

        // è¿‡æ¸¡æ¨¡æ¿
        transitions: [
                `Qï¼šé‚£...æŽ¥ä¸‹æ¥å‘¢ï¼Ÿ

DYï¼šæŽ¥ä¸‹æ¥ï¼Œæˆ‘ç»™ä½ çœ‹ç¬¬äºŒå±‚...
å®˜æ–¹ä¸ä¼šè¯´çš„é‚£å±‚ã€‚`,

                `DYï¼šä½†è¿™åªæ˜¯è¡¨è±¡ã€‚çœŸæ­£çš„é—®é¢˜æ˜¯...`,

                `Qï¼š[éœ‡æƒŠ] å§æ§½...é‚£å²‚ä¸æ˜¯è¯´æˆ‘ä»¬éƒ½è¢«éª—äº†ï¼Ÿ

DYï¼šä¸æ˜¯è¢«éª—ï¼Œæ˜¯è¢«é€‰æ‹©æ€§å‘ŠçŸ¥ã€‚
è€Œä¸”æ›´æ®‹é…·çš„æ˜¯...`,

                `DYï¼š[åœé¡¿5ç§’]

ä½ ä»¥ä¸ºè¿™å°±å®Œäº†ï¼Ÿ

[å†·ç¬‘]

è¿™æ‰åˆšå¼€å§‹...
å¥½æˆåœ¨åŽå¤´ã€‚`,

                `Qï¼šç­‰ç­‰ï¼Œæˆ‘éœ€è¦æ¶ˆåŒ–ä¸€ä¸‹...

DYï¼š[å¸çƒŸ]
åˆ«æ€¥ã€‚
æŽ¥ä¸‹æ¥è¿™ä¸ªï¼Œæ‰æ˜¯çœŸæ­£ç‚¸è£‚çš„...`,

                `DYï¼š[åœé¡¿3ç§’]

åˆ°è¿™é‡Œï¼Œå¢™å†…çš„åˆ†æžå°±åœäº†ã€‚
ä½†æˆ‘ä»¬å¯ä»¥ç»§ç»­å¾€æ·±äº†è¯´...`
        ],

        // é‡‘å¥åº“ - ç¬¦åˆæ–°å®šä½
        goldenQuotes: [
                "åœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼ŒçœŸç›¸æ˜¯æœ€æ˜‚è´µçš„å¥¢ä¾ˆå“ã€‚",
                "è§„åˆ™æ˜¯ç»™å®ˆè§„çŸ©çš„äººè®¢çš„ï¼Œåˆ©ç›Šæ˜¯ç»™æ‡‚è§„åˆ™çš„äººç•™çš„ã€‚",
                "éŸ­èœä¹‹æ‰€ä»¥æ˜¯éŸ­èœï¼Œä¸æ˜¯å› ä¸ºä»–ç©·ï¼Œæ˜¯å› ä¸ºä»–ä¸çŸ¥é“è‡ªå·±æ˜¯éŸ­èœã€‚",
                "åŽ†å²ä¸ä¼šé‡å¤ï¼Œä½†ä¼šæŠ¼éŸµã€‚",
                "å¢™çš„æ„ä¹‰ä¸æ˜¯æŒ¡ä½å¤–é¢çš„ä¿¡æ¯ï¼Œæ˜¯è®©é‡Œé¢çš„äººä¹ æƒ¯çœ‹ä¸åˆ°ã€‚",
                "å¼±åŠ¿æ–‡åŒ–ç­‰å¾…æ•‘ä¸–ä¸»ï¼Œå¼ºåŠ¿æ–‡åŒ–è‡ªå·±å°±æ˜¯æ•‘ä¸–ä¸»ã€‚",
                "çœŸç›¸ä»Žæ¥ä¸æ˜¯éžé»‘å³ç™½ï¼Œä½†è°Žè¨€æ€»æ˜¯ç«‹åœºé²œæ˜Žã€‚",
                "æ™®é€šäººçš„æ‚²å‰§ï¼Œæ˜¯æŠŠæ¸¸æˆè§„åˆ™å½“æˆäº†çœŸç†ã€‚",
                "èƒ½æ¶¦çš„ä¸æ˜¯æœ€æœ‰é’±çš„ï¼Œæ˜¯æœ€å…ˆæ¸…é†’çš„ã€‚",
                "å®˜æ–¹æ°¸è¿œä¸éª—ä½ ï¼Œåªæ˜¯é€‰æ‹©æ€§å‘Šè¯‰ä½ ã€‚"
        ]
};

// èŽ·å–éšæœºè¿‡æ¸¡
function getRandomTransition() {
        return TEMPLATES.transitions[Math.floor(Math.random() * TEMPLATES.transitions.length)];
}

// èŽ·å–éšæœºé‡‘å¥
function getRandomGoldenQuote() {
        return TEMPLATES.goldenQuotes[Math.floor(Math.random() * TEMPLATES.goldenQuotes.length)];
}

// å¡«å……æ¨¡æ¿
function fillTemplate(template, data) {
        let result = template;
        for (const [key, value] of Object.entries(data)) {
                result = result.replace(new RegExp(`{${key}}`, 'g'), value);
        }
        return result;
}

// æ ¹æ®è¯é¢˜ç±»åž‹é€‰æ‹©åˆé€‚çš„å¼€åœºé’©å­
function selectHookByType(topicType) {
        const typeHookMap = {
                'policy': 'policy',      // æ”¿ç­–ç±» -> æ”¿ç­–è§£è¯»åž‹
                'economy': 'data',       // ç»æµŽç±» -> æ•°æ®éœ‡æ’¼åž‹
                'society': 'contrast',   // ç¤¾ä¼šç±» -> å¢™å†…å¤–å¯¹æ¯”
                'warning': 'warning',    // è­¦å‘Šç±» -> é¢„è¨€è­¦å‘Šåž‹
                'human': 'story',        // äººæ€§ç±» -> æ•…äº‹å¼•å…¥åž‹
                'default': 'opinion'     // é»˜è®¤ -> äº‰è®®è§‚ç‚¹åž‹
        };
        return TEMPLATES.hooks[typeHookMap[topicType] || typeHookMap['default']];
}

